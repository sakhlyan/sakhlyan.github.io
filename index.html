<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anna Sakhlyan - Artist & DJ</title>
    <style>
        :root {
            --gray: rgb(169, 169, 169);
            --sans: Helvetica, Arial, sans-serif;
            --ms-0: 1.1rem;
            --baseline: calc(var(--ms-0) * 1.25);
            --blue: #1919ff;
            --black: rgb(0, 0, 0);
            --measure: 28em;
        }
        
        * {
            box-sizing: border-box;
            font-size: 100%;
            font-weight: inherit;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: var(--sans);
            font-size: var(--ms-0);
            line-height: var(--baseline);
            margin: 0;
            padding: 0;
            background-color: #fff;
            hyphens: auto;
            text-align: left;
        }

        /* Updated navbar layout */
        .navbar {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            background-color: #fff;
            position: sticky;
            top: 0;
            z-index: 1001;
            font-family: var(--sans);
            font-size: var(--ms-0);
            width: 100%;
            box-sizing: border-box;
            gap: 12px; /* Slightly reduced from 15px */
        }

        .logo {
            font-weight: bold;
            white-space: nowrap;
            /* Remove right margin since we're using gap in the parent */
            margin-right: 0;
        }

        /* Nav section containing labels, filters and view toggles */
        .nav-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .nav-label {
            color: var(--gray);
            cursor: default;
        }

        /* Category navigation */
        .category-nav {
            display: flex !important;
            align-items: center;
            gap: 15px;
        }

        .category-filter {
            display: inline-block !important;
            cursor: pointer;
            color: var(--gray);
            transition: color 0.2s;
        }

        .category-filter:hover {
            color: var(--black);
        }

        .category-filter.active {
            font-weight: bold;
            color: var(--black);
        }

        /* Category-specific colors */
        .category-filter.music {
            color: #ff3333;
        }

        .category-filter.art {
            color: #3333ff;
        }

        .category-filter.tech {
            color: #33cc33;
        }

        /* View toggle buttons - reduce spacing */
        .nav-links {
            display: flex;
            gap: 8px; /* Reduced from 15px */
            margin-left: 10px; /* Reduced from 15px */
        }

        .nav-links button {
            background: none;
            border: none;
            font-size: var(--ms-0);
            cursor: pointer;
            font-family: var(--sans);
            color: var(--gray);
            transition: color 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-links button svg {
            fill: var(--gray);
            transition: fill 0.2s;
        }

        .nav-links button:hover svg {
            fill: var(--black);
        }

        .nav-links button.active svg {
            fill: var(--black);
        }

        /* Keep the content container full width */
        .content-container {
            padding: 20px;
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
            margin: 0;
            text-align: left;
            font-family: var(--sans);
            font-size: var(--ms-0);
            line-height: var(--baseline);
        }

        /* Keep text containers at readable width */
        .text-container, .info-container {
            max-width: var(--measure);
        }

        /* Grid container for variable width, constant height layout */
        .grid-container {
            display: flex;
            flex-wrap: wrap;
            width: 100%;
            box-sizing: border-box;
            gap: 5px; /* Changed back from 10px to 5px */
        }

        /* Project item styling - fixed height, variable width */
        .project {
            position: relative;
            cursor: pointer;
            overflow: hidden;
            height: 100px; /* Changed from 80px to 100px */
            width: auto;
            flex-grow: 0;
            flex-shrink: 0;
        }

        .project img {
            height: 100%;
            width: auto;
            object-fit: cover;
            display: block;
        }

        /* Hide the category indicator dots */
        .project-category {
            display: none; /* Remove the category dots completely */
        }

        .project-overlay {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            text-align: center;
            padding: 10px;
        }

        .project:hover .project-overlay {
            opacity: 0;
        }

        /* Text List View - Aligned with navbar */
        .text-container {
            display: none;
            width: 100%;
            max-width: 100%;
            margin-left: 0;
            padding-left: 0;
            font-family: var(--sans);
            font-size: var(--ms-0);
            line-height: var(--baseline);
        }

        .text-container p {
            display: flex;
            flex-wrap: wrap;
            gap: 0;
            justify-content: flex-start;
            width: 100%;
            margin: 0;
            padding: 0;
            text-align: left;
        }

        /* Text items styling - always gray and bold by default */
        .text-item {
            cursor: pointer;
            display: inline-block;
            color: var(--gray) !important; /* Force gray as default */
            transition: color 0.2s;
            font-weight: bold;
            margin-bottom: 0;
            padding: 2px 0;
            width: auto;
            background: none;
        }

        /* Only show colors on hover */
        .text-item:hover {
            color: var(--black) !important;
        }

        .text-item.category-music:hover {
            color: #ff3333 !important;
        }

        .text-item.category-art:hover {
            color: #3333ff !important;
        }

        .text-item.category-tech:hover {
            color: #33cc33 !important;
        }

        /* Update comma styling to match project category colors on hover */
        .comma {
            display: inline;
            margin-right: 5px;
            color: var(--gray);
            font-weight: bold;
            font-family: var(--sans);
            font-size: var(--ms-0);
            transition: color 0.2s;
        }

        /* When a text item is hovered, color the preceding comma */
        .text-item:hover + .comma {
            color: var(--black) !important;
        }

        .text-item.category-music:hover + .comma {
            color: #ff3333 !important; /* Red for Music */
        }

        .text-item.category-art:hover + .comma {
            color: #3333ff !important; /* Blue for Art */
        }

        .text-item.category-tech:hover + .comma {
            color: #33cc33 !important; /* Green for Community & Events */
        }

        /* When a text item is hovered, also color the comma before it */
        .comma:has(+ .text-item:hover) {
            color: var(--black) !important;
        }

        .comma:has(+ .text-item.category-music:hover) {
            color: #ff3333 !important; /* Red for Music */
        }

        .comma:has(+ .text-item.category-art:hover) {
            color: #3333ff !important; /* Blue for Art */
        }

        .comma:has(+ .text-item.category-tech:hover) {
            color: #33cc33 !important; /* Green for Community & Events */
        }

        /* Info Page - Aligned with navbar */
        .info-container {
            display: none;
            color: var(--gray);
            font-size: var(--ms-0);
            line-height: var(--baseline);
            margin-left: 0;
            padding-left: 0;
            font-family: var(--sans);
        }
        
        .info-container p {
            margin-bottom: 1em;
            max-width: var(--measure);
        }

        .info-link {
            cursor: pointer;
            color: var(--gray);
            transition: color 0.2s;
            font-weight: normal;
        }
        
        .info-link:hover {
            color: var(--black);
        }

        .info-link.active {
            color: var(--black);
            font-weight: bold;
        }

        .info-section {
            display: none;
            margin-top: 1em;
            margin-bottom: 2em;
            color: var(--black);
            text-align: left;
        }

        /* Copyright text should remain gray */
        .copyright {
            font-size: 0.8rem; /* Smaller text size */
            margin-top: 50px; /* Add more space above the copyright */
            color: var(--gray); /* Light gray color to be less prominent */
        }

        /* Social links - updated without icons and with inline layout */
        .social-links {
            display: flex;
            flex-wrap: nowrap;
            gap: 25px; /* Increased from 15px */
            margin-top: 10px;
            width: 100%;
            margin-bottom: 15px; /* Add bottom margin */
            overflow-x: visible; /* Change from auto to visible */
            padding-right: 20px; /* Add padding to ensure last item is visible */
            justify-content: flex-start;
        }

        .social-links a {
            color: var(--gray);
            text-decoration: none;
            transition: color 0.2s;
            white-space: nowrap;
            flex-shrink: 0;
            margin-right: 5px; /* Add right margin to each link */
        }

        .social-links a:hover {
            color: var(--black);
        }

        /* Remove the icon-related styles */
        .social-links a .icon-svg,
        .social-links a:hover .icon-svg {
            display: none;
        }

        /* Project modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: white;
            padding-top: 60px; /* Add top padding to make room for navbar */
        }

        .navbar {
            z-index: 1001; /* Ensure navbar stays above modal */
        }

        /* Left-align all project content */
        .modal-content {
            position: relative;
            background-color: white;
            margin: 0;
            margin-left: 0;
            padding: 15px 20px; /* Changed from 40px to match navbar padding */
            width: 100%;
            max-width: 100%;
            min-height: calc(100vh - 60px);
            overflow-y: auto;
            box-sizing: border-box;
            text-align: left;
        }

        /* Remove extra padding from content areas */
        .project-title-area,
        .project-metadata,
        .project-main-image, 
        .project-info-block,
        .project-additional-images,
        .project-description,
        .project-links,
        .project-navigation {
            padding-left: 0;
            margin-left: 0;
        }

        /* Reduce space between title and metadata */
        .project-title-area {
            margin-bottom: 15px; /* Reduced from 30px */
            text-align: left;
        }

        /* Update project metadata spacing */
        .project-metadata {
            display: flex;
            flex-direction: column;
            margin-bottom: 30px; /* Reduced from 40px */
            text-align: left;
        }

        .project-period {
            margin: 0;
            margin-bottom: 3px; /* Reduced from 5px */
            font-weight: bold;
            /* Color will be set inline by JavaScript */
        }

        .project-main-image {
            width: 100%;
            margin-bottom: 20px; /* Reduced from 40px to create consistent vertical rhythm */
            text-align: left;
        }

        .project-main-image img {
            width: auto;
            max-width: 100%;
            height: auto;
            max-height: 70vh;
            object-fit: contain;
            object-position: left;
            display: block;
            margin-left: 0;
            margin-right: auto;
        }

        .project-info-block {
            max-width: none;
            margin-bottom: 60px;
            text-align: left;
            width: 100%;
        }

        .project-description {
            margin-bottom: 30px;
            line-height: 1.6;
            color: var(--black);
            text-align: left;
        }

        .project-links {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            text-align: left;
        }

        /* Navigation at bottom of project */
        .project-navigation {
            display: flex;
            justify-content: flex-start;
            padding-top: 20px;
            border-top: 1px solid #eee;
            text-align: left;
            gap: 30px;
        }

        .nav-item {
            cursor: pointer;
            color: var(--gray);
            transition: color 0.2s;
            font-size: 1.5rem; /* Make arrows larger */
            padding: 0 10px; /* Add some padding */
        }

        .nav-item:hover {
            color: var(--black);
        }

        /* Responsive adjustments */
        @media (min-width: 768px) {
            .project-metadata {
                flex-direction: row;
                gap: 40px;
            }
        }

        /* Style for the SVG icons */
        .icon-svg {
            width: 24px;
            height: 24px;
            display: block;
        }

        /* Style for filtered projects */
        .project.filtered-out {
            opacity: 0.3 !important;
            filter: grayscale(100%) !important;
            transition: opacity 0.3s, filter 0.3s;
        }

        .text-item.filtered-out {
            opacity: 0.3;
        }

        /* Add these rules instead to show category colors when highlighted */
        .text-item.highlighted.category-music {
            color: #ff3333 !important; /* Red for music */
        }

        .text-item.highlighted.category-art {
            color: #3333ff !important; /* Blue for art */
        }

        .text-item.highlighted.category-tech {
            color: #33cc33 !important; /* Green for technology */
        }

        /* Make sure hover effects work */
        .text-item:not(.filtered-out):hover {
            color: var(--black);
        }

        .text-item.category-music:not(.filtered-out):hover {
            color: #ff3333;
        }

        .text-item.category-art:not(.filtered-out):hover {
            color: #3333ff;
        }

        .text-item.category-tech:not(.filtered-out):hover {
            color: #33cc33;
        }

        /* Increase gap between navigation elements */
        .nav-elements {
            gap: 30px; /* Increased from 20px */
        }

        /* Add explicit gap for category filters */
        .category-filters {
            display: flex !important;
            align-items: center;
            gap: 15px; /* Reduced from 25px */
        }

        /* Update this CSS rule to make sure filters are hidden when in info view */
        .navbar .category-filter {
            display: inline-block;
        }

        body:has(#info-view[style*="display: block"]) .navbar .category-filter {
            display: none !important;
        }

        /* Styling for additional images */
        .project-additional-images {
            display: flex;
            flex-direction: column; /* Change from row (default) to column */
            gap: 20px;
            margin-bottom: 40px;
            width: 100%;
        }

        .additional-image {
            width: 100%; /* Change from calc(50% - 10px) to full width */
            max-width: 100%; /* Allow images to be full width */
            overflow: hidden;
        }

        .additional-image img {
            width: auto;
            max-width: 100%;
            height: auto;
            max-height: 70vh;
            object-fit: contain;
            object-position: left;
            display: block;
            margin-left: 0;
            margin-right: auto;
        }

        /* Styling for additional info list */
        .additional-info {
            list-style-type: none;
            margin: 20px 0 0 0;
            padding: 0;
        }

        .additional-info li {
            margin-bottom: 10px;
            position: relative;
            padding-left: 20px;
            line-height: 1.6;
        }

        .additional-info li:before {
            content: "—";
            position: absolute;
            left: 0;
            color: var(--gray);
        }

        /* Make sure images appear properly on mobile */
        @media (max-width: 768px) {
            .additional-image {
                width: 100%;
            }
        }

        /* Remove spacing between category filter buttons */
        .navbar > .category-filter {
            margin-right: 0; /* Changed from 4px to 0 */
        }

        .navbar > .category-filter:last-of-type {
            margin-right: 0; /* Keep this unchanged */
        }

        /* Hide filters when project modal is open */
        body:has(#project-modal[style*="display: block"]) .navbar .category-filter {
            display: none !important;
        }

        /* Update project metadata styling */
        .project-period {
            color: var(--gray);
            margin: 0;
            margin-bottom: 5px;
            font-weight: bold; /* Make the date bold */
        }

        /* Project category colors */
        .project-metadata .project-category {
            margin: 0;
            color: var(--gray); /* Default color */
        }

        /* Category-specific colors in the project modal */
        .project-metadata .project-category:contains("Music") {
            color: #ff3333; /* Red for Music */
        }

        .project-metadata .project-category:contains("Art Installation") {
            color: #3333ff; /* Blue for Art */
        }

        .project-metadata .project-category:contains("Community & Events") {
            color: #33cc33; /* Green for Community & Events */
        }

        /* Styling for performances and press sections */
        .performances-section,
        .press-section {
            margin-top: 30px;
        }

        .performances-section h3,
        .press-section h3 {
            font-weight: bold;
            margin-bottom: 15px;
            font-size: var(--ms-0);
        }

        .performances-list,
        .press-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        .performances-list li,
        .press-list li {
            display: flex;
            margin-bottom: 20px;
        }

        .performance-year,
        .press-year {
            font-weight: bold;
            min-width: 50px;
            color: var(--gray);
        }

        .performance-details,
        .press-details {
            flex: 1;
        }

        .performance-details p,
        .press-details p {
            margin: 5px 0;
        }

        .press-quote {
            font-style: italic;
            margin: 10px 0;
            padding-left: 15px;
            border-left: 2px solid var(--gray);
        }

        .performance-details a,
        .press-details a {
            display: inline-block;
            margin-top: 5px;
            color: var(--gray);
            text-decoration: none;
            transition: color 0.2s;
        }

        .performance-details a:hover,
        .press-details a:hover {
            color: var(--black);
        }

        /* Project title styling - match size with logo */
        .project-title-area h2 {
            font-size: var(--ms-0); /* Changed from 1.8rem to match navbar font size */
            font-weight: bold;
            margin: 0;
            line-height: 1.2;
            color: var(--gray);
            text-transform: uppercase; /* Optional: make it all uppercase like the logo */
        }

        /* Styling for releases section */
        .releases-section {
            margin-top: 30px;
        }

        .releases-section h3 {
            font-weight: bold;
            margin-bottom: 15px;
            font-size: var(--ms-0);
        }

        .releases-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        .releases-list li {
            display: flex;
            margin-bottom: 20px;
        }

        .release-year {
            font-weight: bold;
            min-width: 50px;
            color: var(--gray);
        }

        .release-details {
            flex: 1;
        }

        .release-details p {
            margin: 5px 0;
        }

        .release-details a {
            display: inline-block;
            margin-top: 5px;
            color: var(--gray);
            text-decoration: none;
            transition: color 0.2s;
        }

        .release-details a:hover {
            color: var(--black);
        }

        /* Videos section styling */
        .videos-section {
            margin-top: 30px;
        }

        .videos-section h3 {
            font-weight: bold;
            margin-bottom: 15px;
            font-size: var(--ms-0);
        }

        .videos-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        .videos-list li {
            display: flex;
            margin-bottom: 20px;
        }

        .video-year {
            font-weight: bold;
            min-width: 50px;
            color: var(--gray);
        }

        .video-details {
            flex: 1;
        }

        .video-details p {
            margin: 5px 0;
        }

        .video-details a {
            display: inline-block;
            margin-top: 5px;
            color: var(--gray);
            text-decoration: none;
            transition: color 0.2s;
        }

        .video-details a:hover {
            color: var(--black);
        }

        /* Style for embedded videos */
        .project-video-embed {
            width: 100%;
            margin-bottom: 30px;
            overflow: hidden;
            position: relative;
        }

        .project-video-embed iframe {
            border: none;
            display: block;
            margin: 0;
        }

        @media (max-width: 768px) {
            .project-video-embed iframe {
                height: 240px;
            }
        }

        .tracks-section {
            margin-top: 30px;
        }

        .tracks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .track-item {
            display: flex;
            flex-direction: column;
        }

        .track-image {
            width: 100%;
            margin-bottom: 10px;
        }

        .track-image img {
            width: 100%;
            height: auto;
            display: block;
        }

        .track-details {
            flex: 1;
        }

        @media (max-width: 768px) {
            .tracks-grid {
                grid-template-columns: 1fr;
            }
        }

        .performance-header {
            margin-top: 25px;
            margin-bottom: 10px;
        }

        .performance-header h4 {
            font-weight: bold;
            color: var(--gray);
            margin: 0;
        }

        .performance-note {
            margin-top: 15px;
            font-style: italic;
        }

        .tracks-note {
            margin-top: 20px;
            font-style: italic;
            color: var(--gray);
        }
    </style>
</head>
<body>
    <!-- Simplified navbar structure with all elements at the same level -->
    <div class="navbar">
        <div class="logo" style="color: black; font-weight: bold; cursor: pointer;" onclick="toggleInfo()">ANNA SAKHLYAN</div>
        
        <div class="nav-links">
            <button id="text-button" class="active" onclick="showText()">
                <svg class="icon-svg" viewBox="0 0 24 24">
                    <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                </svg>
            </button>
            <button id="grid-button" onclick="showGrid()">
                <svg class="icon-svg" viewBox="0 0 24 24">
                    <path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86l-3 3.87L9 13.14 6 17h12l-3.86-5.14z"/>
                </svg>
            </button>
        </div>
        
        <span class="category-filter active" id="filter-all" onclick="filterProjects('all')">All</span>
        <span class="category-filter music" id="filter-music" onclick="filterProjects('category-music')">Music</span>
        <span class="category-filter art" id="filter-art" onclick="filterProjects('category-art')">Art</span>
        <span class="category-filter tech" id="filter-tech" onclick="filterProjects('category-tech')">Community & Events</span>
    </div>

    <div class="content-container">
        <!-- Project Grid - Will be populated with JavaScript -->
        <div class="grid-container" id="grid-view">
            <!-- Projects will be inserted here by JavaScript -->
        </div>

        <!-- Text List View -->
        <div class="text-container" id="text-view">
            <p id="text-list">
                <!-- Text list will be populated by JavaScript -->
            </p>
        </div>

        <!-- Info Page -->
        <div class="info-container" id="info-view">
            <p class="info-link" onclick="toggleSection('contact-section', this)">Contact</p>
            <div id="contact-section" class="info-section">
                <p><strong>Email:</strong> anansakhlyan@gmail.com</p>
                <div class="social-links">
                    <a href="https://kamunts.bandcamp.com" target="_blank">Bandcamp</a>
                    <a href="https://soundcloud.com/kamunts" target="_blank">SoundCloud</a>
                    <a href="https://www.instagram.com/kamunts/" target="_blank">Instagram</a>
                    <a href="https://ra.co/dj/kamunts" target="_blank">Resident Advisor</a>
                    <a href="https://github.com/sakhlyan" target="_blank">GitHub</a>
                </div>
            </div>
            
            <p class="info-link" onclick="toggleSection('biography-section', this)">Biography</p>
            <div id="biography-section" class="info-section">
                <p>Multidisciplinary artist, <strong>DJ, sound designer, and software engineer</strong>, blending technology, sound, and visuals. With a background in mathematics, music production, and software development, I explore the intersection of <strong>experimental sound, interactive installations, and creative coding</strong>. Currently learning <strong>IoT technologies</strong>, integrating sensor-driven sound and real-time interactivity into my artistic practice.</p>
                
                <p><strong>Education:</strong></p>
                <p>- <strong>Mixing & Mastering</strong> – Catalyst Berlin</p>
                <p>- <strong>Project-Based Learning</strong> – TUMO Labs</p>
                <p>- <strong>Applied Mathematics</strong> – Yerevan State University</p>
                
                <p><strong>Skills:</strong></p>
                <p>- <strong>DJing & Live Performance</strong> – Track selection, club mixing, hybrid sets</p>
                <p>- <strong>Sound Design</strong> – Ableton, Logic Pro</p>
                <p>- <strong>Mobile App Development</strong> – Swift, Objective-C</p>
                <p>- <strong>Experimental Visuals & Generative Art</strong> – ComfyUI</p>
                <p>- <strong>Currently Learning</strong>: <br>
                   &nbsp;&nbsp;&nbsp;&nbsp;- <strong>Internet of Things (IoT)</strong> – Embedded systems, interactive technology</p>
                
                <p><strong>Work:</strong></p>
                <p>- <strong>DJ & Producer (Kamunts)</strong> – International performances at <strong>Mutabor (Moscow), Wanderlust (Paris), Rinse France</strong></p>
                <p>- <strong>Founder, Vocalist (Jrimurmurner)</strong> – Post-punk duo, Bandcamp releases, <strong>URVAKAN Festival</strong></p>
                <p>- <strong>Senior Software Engineer (PicsArt)</strong> – iOS development, feature optimization</p>
                <p>- <strong>Sound Designer (Freelance)</strong> – Film, installations (<em>Recidive</em>, interactive performances)</p>
                <p>- <strong>Co-Founder, Creative Director (Projector Room)</strong> – Music & art event curation</p>
                <p>- <strong>Curator (The Office Club)</strong> – Curated artists and performances for club events</p>
            </div>
            
            <p class="copyright">All rights reserved 2025</p>
        </div>
    </div>

    <!-- Project Modal -->
    <div id="project-modal" class="modal">
        <div class="modal-content">
            <div id="project-details"></div>
        </div>
    </div>

    <script>
        // Project data
        const projects = {
            'dj-kamunts': {
                title: 'Kamunts',
                year: '2018-Present',
                sortDate: 2023,
                category: 'Music',
                categoryClass: 'category-music',
                description: '',
                image: 'images/dj-kamunts.jpg',
                links: [
                    { text: 'Resident Advisor', url: 'https://ra.co/dj/kamunts' },
                    { text: 'SoundCloud', url: 'https://soundcloud.com/kamunts' },
                    { text: 'Bandcamp', url: 'https://kamunts.bandcamp.com' }
                ],
                tracks: [
                    {
                        title: 'Kyanqs կյանքս',
                        year: 2024,
                        label: 'UMAY (Berlin)',
                        image: 'images/kyanqs.jpg',
                        url: 'https://umay.bandcamp.com/track/kamunts-kyanqs'
                    },
                    {
                        title: 'Shinra Tensei',
                        year: 2023,
                        label: 'Self-released',
                        image: 'images/shinratensei.jpg',
                        url: 'https://kamunts.bandcamp.com'
                    },
                    {
                        title: 'Nedo',
                        year: 2022,
                        label: 'Self-released',
                        image: 'images/nedotrack.jpg',
                        url: 'https://kamunts.bandcamp.com'
                    },
                    {
                        title: 'Phenibut',
                        year: 2021,
                        label: 'Self-released',
                        image: 'images/phenibut.jpg',
                        url: 'https://soundcloud.com/kamunts/kamunts-phenibut'
                    }
                ],
                performances: [
                    {
                        header: "International Performances",
                        year: 2024, 
                        event: 'Upcoming Festival', 
                        location: 'Berlin, Germany', 
                        description: 'Scheduled to perform at Berlin electronic music festival'
                    },
                    {
                        year: 2023, 
                        event: 'Rinse France', 
                        location: 'Paris, France', 
                        description: 'Guest appearance and live broadcast on the influential Rinse France radio station'
                    },
                    {
                        year: 2023, 
                        event: 'Mutabor', 
                        location: 'Moscow, Russia', 
                        description: 'DJ set at one of Moscow\'s most important electronic music venues'
                    },
                    {
                        year: 2022, 
                        event: 'Wanderlust', 
                        location: 'Paris, France', 
                        description: 'Performance at iconic Parisian club featuring experimental electronic set'
                    },
                    {
                        year: 2022, 
                        event: '20ft Radio', 
                        location: 'Kyiv, Ukraine', 
                        description: 'Guest mix and interview on Ukraine\'s forward-thinking electronic music platform'
                    },
                    {
                        header: "Local Performances",
                        description: 'For a complete list of local performances, please check my Resident Advisor profile.',
                        url: 'https://ra.co/dj/kamunts'
                    }
                ]
            },
            'jrimurmurner': {
                title: 'Jrimurmurner',
                year: '2015-Present',
                sortDate: 2023,
                category: 'Music',
                categoryClass: 'category-music',
                description: 'In 2015, I co-founded Jrimurmurner, a post-panic duo mixing Armenian lyrics with cold-wave moods. Weird, raw, a little unhinged—two girls making noise, lost in synths and existential dread.',
                image: 'images/jrimurmurner.jpg?v=1',
                additionalImages: [
                    'images/jrimurmurner-3.jpg?v=1',
                    'images/jrimurmurner-5.jpg?v=1',
                    'images/jrimurmurner-6.jpg?v=1'
                ],
                links: [
                    { text: 'Bandcamp', url: 'https://jrimurmur.bandcamp.com' },
                    { text: 'YouTube', url: 'https://www.youtube.com/@Jrimurmur' },
                    { text: 'Instagram', url: 'https://www.instagram.com/jrimurmur/' }
                ],
                releases: [
                    {
                        year: 2020,
                        title: 'Lur Mur',
                        label: 'DKTSK',
                        description: 'Debut album exploring minimalist soundscapes with Armenian vocals and industrial textures.',
                        url: 'https://jrimurmur.bandcamp.com'
                    }
                ],
                videos: [
                    {
                        year: 2022,
                        title: 'Self-produced Music Videos',
                        description: 'Series of self-directed and produced videos accompanying our music, featuring experimental visuals and DIY aesthetics.',
                        url: 'https://www.youtube.com/@Jrimurmur'
                    }
                ],
                performances: [
                    { 
                        year: 2017, 
                        event: 'One Caucasus Festival', 
                        location: 'Georgia', 
                        description: 'Performed as part of the Sound Zone program showcasing experimental bands from the Caucasus region', 
                        url: 'http://www.2018.onecaucasus.org/news/116-sound-zone-one-caucasus-festival-2017.html' 
                    },
                    { 
                        year: 2019, 
                        event: 'URVAKAN Festival', 
                        location: 'Armenia', 
                        description: 'Performed at this experimental music and art festival in post-industrial spaces across Armenia'
                    },
                    { 
                        year: 2021, 
                        event: 'DKTSK Rave', 
                        location: 'Yerevan, Armenia',
                        description: 'Underground performance fusing post-punk with electronic elements'
                    }
                ],
                press: [
                    {
                        year: 2017,
                        publication: 'Gorilla vs. Bear',
                        title: 'Featured as an emerging Armenian artist',
                        snippet: '"...this elusive Armenian duo called jrimurmurner, whose hypnotic vibe is hard to pin down but seems to fall between shadowy darkwave jams, weird experimental post-punk, and haunting, dreamy synth-pop."',
                        url: 'https://www.gorillavsbear.net/jrimurmurner/'
                    },
                    {
                        year: 2018,
                        publication: 'EVN Report',
                        title: 'Featured in underground music scene coverage',
                        url: 'https://evnreport.com/arm/evn-youth-report-arm/underground-2/'
                    },
                    {
                        year: 2018,
                        publication: 'Hetq',
                        url: 'https://hetq.am/hy/article/92531'
                    }
                ]
            },
            'urvakan': {
                title: 'URVAKAN Festival',
                year: '2019-2022',
                sortDate: 2022,
                category: 'Music',
                categoryClass: 'category-music',
                description: 'URVAKAN Festival, an international experimental music event set in unusual Soviet modernist spaces across Yerevan',
                image: 'images/urvakan.jpg?v=2',
                additionalImages: [
                    'images/urvakan-2.jpg',
                    'images/urvakan-3.jpg'
                ],
                links: [
                    { text: 'URVAKAN Linktree', url: 'https://linktr.ee/urvakan?fbclid=PAZXh0bgNhZW0CMTEAAaZZlFWOGLkhAL6_e0Ybt5eJshP79mNOTi69J_UC-LXeSRFMeTipWzqlGNs_aem_0dAbaXymfGEANaOA6f2wTw' }
                ]
            },
            'sound-design': {
                title: 'Recidive',
                year: '2021',
                sortDate: 2021,
                category: 'Music',
                categoryClass: 'category-music',
                description: 'Created the full sound design and original soundtrack for Recidive, shaping its atmosphere with immersive audio and experimental compositions. This Armenian drama explores a young intellectual\'s severe depression following a breakup, trapped between bookish attitudes and illusory conventions.',
                image: 'images/recidive.jpg',
                additionalInfo: [
                    'Directed by Petros Hovhannisyan',
                    'Runtime: 1 hour 20 minutes',
                    'Languages: Armenian, English',
                    'Filmed in Yerevan, Armenia'
                ],
                links: [
                    { text: 'IMDb', url: 'https://www.imdb.com/title/tt14304012/' }
                ],
                performances: [
                    { 
                        year: 2021, 
                        event: 'Film Release', 
                        location: 'France', 
                        description: 'Official release of Recidive featuring my original soundtrack and sound design'
                    }
                ]
            },
            'who-killed-giant': {
                title: 'Happening 2016 NPAK',
                year: '2016',
                sortDate: 2016,
                category: 'Art Installation',
                categoryClass: 'category-art',
                description: `Artistic Happening: "Reviving the Giant"
Event: "Who Killed the Giant" 2016, at NPAK
Sevak Baghdasaryan, Arthur Sharoyan, Gevorg Grigoryan

In response to the "Who Killed the Giant" exhibition, I engaged in a ritual of
remembrance and hope. Each evening, I adorned the symbolic grave of the
giant with flowers, attached to a ribbon bearing the word "hska," with the final
part "ka" highlighted in red. This gesture, mingling mourning with a hint of
resilience, transformed my contribution into a living dialogue about the
enduring impact of legends in art. This was not a part of the original exhibition
and I tried to remain anonymous in this endeavor.`,
                image: 'images/giant.jpg',
                additionalImages: [
                    'images/giant-2.jpg',
                    'images/giant-3.jpg'
                ],
                links: [
                    { text: 'Exhibition Info', url: 'https://www.accea.info/who-killed-the-giant/' }
                ]
            },
            'medialab': {
                title: '"A Clockwork Orange" Photogramm',
                year: '2017',
                sortDate: 2017,
                category: 'Art Installation',
                categoryClass: 'category-art',
                description: '',
                image: 'images/medialab.jpg',
                links: []
            },
            'projector-room': {
                title: 'Projector Room',
                year: '2019-2021',
                sortDate: 2021,
                category: 'Community & Events',
                categoryClass: 'category-tech',
                description: 'Co-founded Projector Room, a DIY arts and music space situated in a repurposed post-Soviet architectural setting in Yerevan. The venue evolved into a vital hub for the local experimental music scene, hosting a diverse range of events including electronic music nights, audiovisual performances, workshops, and community gatherings. As creative director, I curated the artistic programming, fostering connections between local and international artists while creating an inclusive environment for creative expression. Projector Room became known for its distinctive atmosphere, thoughtful curation, and commitment to nurturing emerging talent within Armenia\'s underground cultural landscape.',
                image: 'images/projector.jpg',
                links: []
            },
            'tamagotchi': {
                title: 'Tamagotchi installation at NPAK 2018',
                year: '2018',
                sortDate: 2018,
                category: 'Art Installation',
                categoryClass: 'category-art',
                description: `A memory, a toy, a bond. Tamagotchi My Art is an installation about care, loss, and the blurred line between digital and emotional reality.

As a child, I fed my Tamagotchi, kept it alive, felt its absence when it died. In Japan, some children ended their lives over the loss of their virtual pets. The solution? A reset button. Death, undone with a press.

The installation mirrors this logic. Press a button, and a real call reaches me. A demand for care, a reversed connection—who is taking care of whom? The screen glitches, sounds distort, silence lingers. A digital presence, fragile yet persistent, refusing to be forgotten.

What do we nurture? What do we lose? And when the virtual dies, does it leave something real behind?`,
                image: 'images/tamagotchi-1.jpg',
                additionalImages: [
                    'images/tamagotchi-2.jpg',
                    'images/tamagotchi-3.jpg'
                ],
                videoEmbed: 'MXLlSkeuFC4'
            },
            'scanogram': {
                title: 'Scanogram',
                year: '2017',
                sortDate: 2017,
                category: 'Art Installation',
                categoryClass: 'category-art',
                description: '',
                image: 'images/scanogram.jpg',
                links: []
            },
            'refuge-worldwide': {
                title: 'Refuge Worldwide Residency Berlin',
                year: '2023',
                sortDate: 2023,
                category: 'Music',
                categoryClass: 'category-music',
                description: 'Creative residency program hosted by Refuge Worldwide Berlin, dedicated to guiding emerging artists through music production, artistic expression, and track refinement in a professional studio setting. During this residency, I participated in a radio show where I performed a live set featuring unreleased material and gave an in-depth interview about my musical approach and creative process.',
                image: 'images/refuge-0.jpg?v=1',
                additionalImages: [
                    'images/refuge.jpg',
                    'images/refuge-2.jpg?v=1',
                    'images/refuge-3.jpg?v=1',
                    'images/refuge-4.jpg?v=1'
                ],
                links: [
                    { text: 'Refuge Worldwide', url: 'https://refugeworldwide.com/' }
                ]
            }
        };

        // Function to populate the grid with projects (sorted by date) and text view (randomized)
        function populateProjects() {
            const gridContainer = document.getElementById('grid-view');
            const textList = document.getElementById('text-list');
            
            // Convert projects object to array
            const projectsArray = Object.entries(projects).map(([id, project]) => {
                return { id, ...project };
            });
            
            // Sort projects by date (newest first) for grid view
            projectsArray.sort((a, b) => b.sortDate - a.sortDate);
            
            // Create a randomized copy of the array for the text view
            const randomizedArray = [...projectsArray];
            for (let i = randomizedArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [randomizedArray[i], randomizedArray[j]] = [randomizedArray[j], randomizedArray[i]];
            }
            
            // Clear existing content
            gridContainer.innerHTML = '';
            textList.innerHTML = '';
            
            // Add projects to grid (sorted by date)
            projectsArray.forEach((project) => {
                // Create grid item
                const gridItem = document.createElement('div');
                gridItem.className = 'project';
                gridItem.onclick = function() { openProject(project.id); };
                
                // Create image
                const img = document.createElement('img');
                img.src = project.image;
                img.alt = project.title;
                gridItem.appendChild(img);
                
                // Create overlay
                const overlay = document.createElement('div');
                overlay.className = 'project-overlay';
                overlay.textContent = project.title;
                gridItem.appendChild(overlay);
                
                // Add to grid
                gridContainer.appendChild(gridItem);
            });
            
            // Add projects to text list (randomized order)
            randomizedArray.forEach((project, index) => {
                // Add to text list with comma and category class
                const textItem = document.createElement('span');
                textItem.className = `text-item ${project.categoryClass}`;
                textItem.onclick = function() { openProject(project.id); };
                textItem.textContent = project.title;
                textList.appendChild(textItem);
                
                // Add comma after each item (except the last one)
                if (index < randomizedArray.length - 1) {
                    const comma = document.createElement('span');
                    comma.className = 'comma';
                    comma.textContent = ',';
                    textList.appendChild(comma);
                }
            });
        }

        // Modify the initialization function to select Art by default
        document.addEventListener('DOMContentLoaded', function() {
            populateProjects();
            showText();
            
            // Simple event handlers
            document.getElementById('text-button').onclick = showText;
            document.getElementById('grid-button').onclick = showGrid;
            document.getElementById('filter-all').onclick = function() { filterProjects('all'); };
            document.getElementById('filter-music').onclick = function() { filterProjects('category-music'); };
            document.getElementById('filter-art').onclick = function() { filterProjects('category-art'); };
            document.getElementById('filter-tech').onclick = function() { filterProjects('category-tech'); };
            
            // Apply Art filter by default instead of showing all projects
            filterProjects('category-art');
        });
        
        function showGrid() {
            document.getElementById('grid-view').style.display = 'flex';
            document.getElementById('text-view').style.display = 'none';
            document.getElementById('info-view').style.display = 'none';
            document.getElementById('project-modal').style.display = 'none';
            document.querySelector('.nav-links').style.display = 'flex';
            
            // Update active state
            document.getElementById('grid-button').classList.add('active');
            document.getElementById('text-button').classList.remove('active');
        }

        function showText() {
            document.getElementById('grid-view').style.display = 'none';
            document.getElementById('text-view').style.display = 'block';
            document.getElementById('info-view').style.display = 'none';
            document.getElementById('project-modal').style.display = 'none';
            document.querySelector('.nav-links').style.display = 'flex';
            
            // Update active state
            document.getElementById('text-button').classList.add('active');
            document.getElementById('grid-button').classList.remove('active');
        }

        function toggleInfo() {
            const infoView = document.getElementById('info-view');
            
            // Check if we're currently in info view
            if (infoView.style.display === 'block') {
                // Switching back to text view instead of grid view
                showText(); // Changed from showGrid() to showText()
                
                // Restore filter visibility based on previous state
                const allFilter = document.getElementById('filter-all');
                allFilter.style.display = 'inline-block';
                
                if (!allFilter.classList.contains('active')) {
                    // If "All" wasn't active, show all category filters
                    document.getElementById('filter-music').style.display = 'inline-block';
                    document.getElementById('filter-art').style.display = 'inline-block';
                    document.getElementById('filter-tech').style.display = 'inline-block';
                } else {
                    // If "All" was active, keep others hidden
                    document.getElementById('filter-music').style.display = 'none';
                    document.getElementById('filter-art').style.display = 'none';
                    document.getElementById('filter-tech').style.display = 'none';
                }
            } else {
                // Switching to info view
                document.getElementById('grid-view').style.display = 'none';
                document.getElementById('text-view').style.display = 'none';
                document.getElementById('project-modal').style.display = 'none';
                infoView.style.display = 'block';
                
                // Force hide ALL navigation elements including filters
                document.getElementById('filter-all').style.removeProperty('display');
                document.getElementById('filter-all').style.display = 'none';
                document.getElementById('filter-music').style.removeProperty('display');
                document.getElementById('filter-music').style.display = 'none';
                document.getElementById('filter-art').style.removeProperty('display');
                document.getElementById('filter-art').style.display = 'none';
                document.getElementById('filter-tech').style.removeProperty('display');
                document.getElementById('filter-tech').style.display = 'none';
                
                // Also hide the navigation buttons
                document.querySelector('.nav-links').style.display = 'none';
                
                // Hide all info sections
                hideAllSections();
            }
        }

        function toggleSection(sectionId, linkElement) {
            const section = document.getElementById(sectionId);
            
            // Remove active class from all info links
            const infoLinks = document.querySelectorAll('.info-link');
            infoLinks.forEach(link => link.classList.remove('active'));
            
            // Make sure all filters stay hidden when toggling sections
            document.querySelector('.nav-links').style.display = 'none';
            document.getElementById('filter-all').style.display = 'none';
            document.getElementById('filter-music').style.display = 'none';
            document.getElementById('filter-art').style.display = 'none';
            document.getElementById('filter-tech').style.display = 'none';
            
            if (section.style.display === 'block') {
                section.style.display = 'none';
            } else {
                // Hide all sections first
                hideAllSections();
                // Show the selected section
                section.style.display = 'block';
                // Make the clicked link active
                linkElement.classList.add('active');
            }
        }
        
        function hideAllSections() {
            const sections = document.getElementsByClassName('info-section');
            for (let i = 0; i < sections.length; i++) {
                sections[i].style.display = 'none';
            }
        }

        function openProject(projectId) {
            const modal = document.getElementById('project-modal');
            const projectDetails = document.getElementById('project-details');
            
            // Get the project data
            const project = projects[projectId];
            
            if (project) {
                // Add history entry
                const projectTitle = project.title.replace(/\s+/g, '-').toLowerCase();
                history.pushState({projectId: projectId}, project.title, `#${projectTitle}`);
                
                // Hide all filters and view toggles, but keep the logo visible
                document.querySelector('.nav-links').style.display = 'none';
                document.getElementById('filter-all').style.display = 'none';
                document.getElementById('filter-music').style.display = 'none';
                document.getElementById('filter-art').style.display = 'none';
                document.getElementById('filter-tech').style.display = 'none';
                
                // Get the category color based on project type
                let categoryColor = 'var(--gray)';
                if (project.category === 'Music') {
                    categoryColor = '#ff3333'; // Red
                } else if (project.category === 'Art Installation') {
                    categoryColor = '#3333ff'; // Blue
                } else if (project.category === 'Community & Events') {
                    categoryColor = '#33cc33'; // Green
                }
                
                // Build HTML for project details
                let html = `
                    <div class="project-title-area">
                        <h2>${project.title}</h2>
                    </div>
                    
                    <div class="project-metadata">
                        <p class="project-period" style="color: ${categoryColor};">${project.year}</p>
                        <p class="project-category" style="color: ${categoryColor};">${project.category}</p>
                    </div>
                    
                    <div class="project-main-image">
                        <img src="${project.image}" alt="${project.title}">
                    </div>
                    
                    ${project.videoEmbed ? `
                    <div class="project-video-embed">
                        <iframe width="100%" height="450" src="https://www.youtube.com/embed/${project.videoEmbed}?start=${project.videoEmbed.includes('t=') ? project.videoEmbed.split('t=')[1] : '638'}" 
                        title="${project.title}" frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen></iframe>
                    </div>
                    ` : ''}
                    
                    ${project.additionalImages && project.additionalImages.length > 0 ? `
                    <div class="project-additional-images">
                        ${project.additionalImages.map(img => `
                            <div class="additional-image">
                                <img src="${img}" alt="${project.title}">
                            </div>
                        `).join('')}
                    </div>
                    ` : ''}
                    
                    <div class="project-info-block">
                        <div class="project-description">
                            <p>${project.description}</p>
                            
                            ${project.releases && project.releases.length > 0 ? `
                            <div class="releases-section">
                                <h3>Releases</h3>
                                <ul class="releases-list">
                                    ${project.releases.map(release => `
                                        <li>
                                            <div class="release-year">${release.year}</div>
                                            <div class="release-details">
                                                <strong>${release.title}</strong> - ${release.label}
                                                <p>${release.description}</p>
                                                ${release.url ? `<a href="${release.url}" target="_blank">Listen</a>` : ''}
                                            </div>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                            ` : ''}
                            
                            ${project.videos && project.videos.length > 0 ? `
                            <div class="videos-section">
                                <h3>Videos</h3>
                                <ul class="videos-list">
                                    ${project.videos.map(video => `
                                        <li>
                                            <div class="video-year">${video.year}</div>
                                            <div class="video-details">
                                                <strong>${video.title}</strong>
                                                <p>${video.description}</p>
                                                ${video.url ? `<a href="${video.url}" target="_blank">Watch on YouTube</a>` : ''}
                                            </div>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                            ` : ''}
                            
                            ${project.performances && project.performances.length > 0 ? `
                            <div class="performances-section">
                                <h3>Performances</h3>
                                <ul class="performances-list">
                                    ${project.performances.map(perf => `
                                        ${perf.header ? `<li class="performance-header"><h4>${perf.header}</h4></li>` : ''}
                                        <li ${!perf.year ? 'class="performance-note"' : ''}>
                                            ${perf.year ? `<div class="performance-year">${perf.year}</div>` : ''}
                                            <div class="performance-details">
                                                ${perf.event ? `<strong>${perf.event}</strong>, ${perf.location}` : ''}
                                                <p>${perf.description}</p>
                                                ${perf.url ? `<a href="${perf.url}" target="_blank">${perf.event ? 'Event details' : 'More performances on Resident Advisor'}</a>` : ''}
                                            </div>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                            ` : ''}
                            
                            ${project.press && project.press.length > 0 ? `
                            <div class="press-section">
                                <h3>Press</h3>
                                <ul class="press-list">
                                    ${project.press.map(press => `
                                        <li>
                                            <div class="press-year">${press.year}</div>
                                            <div class="press-details">
                                                <strong>${press.publication}</strong>
                                                <p>${press.title}</p>
                                                ${press.snippet ? `<p class="press-quote">${press.snippet}</p>` : ''}
                                                ${press.url ? `<a href="${press.url}" target="_blank">Read more</a>` : ''}
                                            </div>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                            ` : ''}
                            
                            ${project.tracks && project.tracks.length > 0 ? `
                            <div class="tracks-section">
                                <h3>Tracks</h3>
                                <div class="tracks-grid">
                                    ${project.tracks.map(track => `
                                        <div class="track-item">
                                            <div class="track-image">
                                                <a href="${track.url}" target="_blank">
                                                    <img src="${track.image}" alt="${track.title}">
                                                </a>
                                            </div>
                                            <div class="track-details">
                                                <strong>${track.title}</strong> (${track.year}) - ${track.label}
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                                <p class="tracks-note">For more tracks, check my <a href="https://soundcloud.com/kamunts" target="_blank">SoundCloud</a> and <a href="https://kamunts.bandcamp.com" target="_blank">Bandcamp</a></p>
                            </div>
                            ` : ''}
                            
                            ${project.links && project.links.length > 0 && !project.tracks ? `
                            <div class="project-links">
                                ${project.links.map(link => {
                                    // Change any "Purchase on" or similar text to just "Listen on"
                                    const linkText = link.text.replace(/Purchase/g, "Listen");
                                    return `<a href="${link.url}" target="_blank">${linkText}</a>`;
                                }).join('')}
                            </div>
                            ` : ''}
                        </div>
                    </div>
                    
                    <div class="project-navigation">
                        <span class="nav-item" onclick="navigateProject('prev', '${projectId}')">←</span>
                        <span class="nav-item" onclick="navigateProject('next', '${projectId}')">→</span>
                    </div>
                `;
                
                projectDetails.innerHTML = html;
                modal.style.display = 'block';
            }
        }

        function closeProject() {
            const modal = document.getElementById('project-modal');
            modal.style.display = 'none';
            
            // Remove hash from URL when closing project
            history.pushState("", document.title, window.location.pathname + window.location.search);
            
            // Always return to the grid view with all projects visible
            showGrid();
            filterProjects('all');
            
            // Make sure the grid button is active
            document.getElementById('text-button').classList.remove('active');
            document.getElementById('grid-button').classList.add('active');
        }

        // Handle the browser's back button
        window.addEventListener('popstate', function(event) {
            const modal = document.getElementById('project-modal');
            
            if (window.location.hash) {
                // If there's a hash in the URL, try to open the corresponding project
                const projectId = findProjectIdByHash(window.location.hash.substring(1));
                if (projectId) {
                    openProject(projectId);
                }
            } else {
                // No hash, close the modal if it's open
                if (modal.style.display === 'block') {
                    modal.style.display = 'none';
                    showGrid();
                    filterProjects('all');
                }
            }
        });

        // Helper function to find a project ID by URL hash
        function findProjectIdByHash(hash) {
            for (const [id, project] of Object.entries(projects)) {
                const projectHash = project.title.replace(/\s+/g, '-').toLowerCase();
                if (projectHash === hash) {
                    return id;
                }
            }
            return null;
        }

        // Check for hash in URL on page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.location.hash) {
                const projectId = findProjectIdByHash(window.location.hash.substring(1));
                if (projectId) {
                    setTimeout(() => openProject(projectId), 500);
                }
            }
        });

        // Updated filter function to toggle visibility of category labels
        function filterProjects(category) {
            // Update active state of filter buttons
            const filterButtons = document.querySelectorAll('.category-filter');
            filterButtons.forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Toggle visibility of category filters based on selection
            const musicFilter = document.getElementById('filter-music');
            const artFilter = document.getElementById('filter-art');
            const communityFilter = document.getElementById('filter-tech');
            
            if (category === 'all') {
                // Hide category filters when "All" is selected
                musicFilter.style.display = 'none';
                artFilter.style.display = 'none';
                communityFilter.style.display = 'none';
                // Activate the "All" filter
                document.getElementById('filter-all').classList.add('active');
            } else {
                // Show all category filters when a specific category is selected
                musicFilter.style.display = 'inline-block';
                artFilter.style.display = 'inline-block';
                communityFilter.style.display = 'inline-block';
                // Activate the selected filter
                document.getElementById(`filter-${category.replace('category-', '')}`).classList.add('active');
            }
            
            // Apply filtering to projects
            const projectItems = document.querySelectorAll('.project');
            const textItems = document.querySelectorAll('.text-item');
            
            if (category === 'all') {
                // Show all projects and reset colors
                projectItems.forEach(item => {
                    item.classList.remove('filtered-out');
                });
                
                textItems.forEach(item => {
                    item.classList.remove('filtered-out');
                    item.classList.remove('highlighted');
                });
            } else {
                // Filter projects and apply colors
                projectItems.forEach((item, index) => {
                    const textItem = textItems[index];
                    
                    if (textItem.classList.contains(category)) {
                        textItem.classList.add('highlighted');
                        item.classList.remove('filtered-out');
                        textItem.classList.remove('filtered-out');
                    } else {
                        textItem.classList.remove('highlighted');
                        item.classList.add('filtered-out');
                        textItem.classList.add('filtered-out');
                    }
                });
            }
        }
    </script>
</body>
</html>